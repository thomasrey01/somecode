!function(){function n(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==e)return;var o,i,c=[],a=!0,l=!1;try{for(e=e.call(n);!(a=(o=e.next()).done)&&(c.push(o.value),!t||c.length!==t);a=!0);}catch(r){l=!0,i=r}finally{try{a||null==e.return||e.return()}finally{if(l)throw i}}return c}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return t(n,e);var o=Object.prototype.toString.call(n).slice(8,-1);"Object"===o&&n.constructor&&(o=n.constructor.name);if("Map"===o||"Set"===o)return Array.from(n);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return t(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function o(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function i(n,t,e){return t&&o(n.prototype,t),e&&o(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{Zuv8:function(t,o,c){"use strict";c.r(o),c.d(o,"HomePageModule",(function(){return Z}));var a=c("PCNd"),l=c("gxPF"),r=c("iInd"),u=c("gbsI"),b=c("H5dK"),s=c("y32E"),f=c("mrSG"),d=c("3bzS"),h=c("itXk"),m=c("lJxs"),g=c("IzEk"),p=c("C/rb"),v=c("AytR"),y=c("gVQ9"),M=c("XU5k"),C=c("0+2f"),I=c("41Qi"),P=c("Nu82"),O=c("wr8B"),k=c("r0RS"),A=c("8Y7J"),S=c("tqRt"),w=c("sZkV"),z=c("SVse"),N=c("TSSN");function j(n,t){1&n&&(A.Pb(0,"ion-tab-button",10),A.Lb(1,"ion-icon",11),A.Pb(2,"ion-label"),A.vc(3),A.ac(4,"translate"),A.Ob(),A.Ob()),2&n&&(A.zb(3),A.xc(" ",A.bc(4,1,"bookingModule.upcoming"),""))}function L(n,t){1&n&&(A.Pb(0,"ion-tab-button",12),A.Lb(1,"ion-icon",13),A.Pb(2,"ion-label"),A.vc(3),A.ac(4,"translate"),A.Ob(),A.Ob()),2&n&&(A.zb(3),A.xc(" ",A.bc(4,1,"bookingModule.schedule"),""))}function x(n,t){1&n&&(A.Pb(0,"ion-tab-button",14),A.Lb(1,"ion-icon",15),A.Pb(2,"ion-label"),A.vc(3),A.ac(4,"translate"),A.Ob(),A.Ob()),2&n&&(A.zb(3),A.xc(" ",A.bc(4,1,"scanModule.scan"),""))}function E(n,t){1&n&&(A.Pb(0,"ion-tab-button",16),A.Lb(1,"ion-icon",17),A.Pb(2,"ion-label"),A.vc(3),A.ac(4,"translate"),A.Ob(),A.Ob()),2&n&&(A.zb(3),A.xc(" ",A.bc(4,1,"nfcModule.nfc"),""))}function R(n,t){1&n&&(A.Pb(0,"ion-tab-button",18),A.Lb(1,"ion-icon",19),A.Pb(2,"ion-label"),A.vc(3),A.ac(4,"translate"),A.Ob(),A.Ob()),2&n&&(A.zb(3),A.xc(" ",A.bc(4,1,"general.shop"),""))}function $(n,t){1&n&&(A.Pb(0,"ion-fab",22),A.Pb(1,"ion-fab-button",23),A.Lb(2,"ion-icon",24),A.Ob(),A.Ob())}function U(n,t){if(1&n){var e=A.Qb();A.Pb(0,"ion-fab",25),A.Xb("click",(function(){return A.oc(e),A.Zb(2).onPendingSaleClick()})),A.Pb(1,"ion-fab-button",23),A.Lb(2,"ion-icon",26),A.Ob(),A.Ob()}}function H(n,t){if(1&n&&(A.Pb(0,"div"),A.tc(1,$,3,0,"ion-fab",20),A.ac(2,"async"),A.ac(3,"async"),A.tc(4,U,3,0,"ion-fab",21),A.ac(5,"async"),A.Ob()),2&n){var e=A.Zb();A.zb(1),A.hc("ngIf",A.bc(2,2,e.cartItemCount$)>0&&!A.bc(3,4,e.pendingSale$)),A.zb(3),A.hc("ngIf",A.bc(5,6,e.pendingSale$))}}var T,J,K,Q=[{path:"",component:(T=function(){function t(n,o,i){e(this,t),this.store=n,this.router=o,this.platform=i,this.isPendingSale=!1,this.showNfcInMenu=!1}return i(t,[{key:"ionViewWillEnter",value:function(){this.cartItemCount$=this.store.select(y.a.selectCount),this.isLoading$=this.store.select(I.a.selectIsLoading),this.pendingSale$=Object(h.a)([this.store.select(p.a.selectMember),this.store.select(k.a.selectAll),this.store.select(M.b.selectByKey,"disabled_payment_methods"),this.store.select(P.a.selectEntities)]).pipe(Object(m.a)((function(t){var e=n(t,4),o=e[0],i=e[1],c=e[2],a=(e[3],i.filter((function(n){return n.customerPersonId==o.id})));if(!a||!(null==a?void 0:a.length))return null;var l=[];return c&&(l=JSON.parse(null==c?void 0:c.value)),a.find((function(n){var t;return!(![O.b.PENDING,O.b.PENDING_REQUIRED].includes(n.statusCode)||(null===(t=null==n?void 0:n.payments)||void 0===t?void 0:t.length)&&!n.payments.find((function(n){return!(null==l?void 0:l.includes(n.payMethod))})))}))})))}},{key:"ngOnInit",value:function(){var n=this;this.upcomingModuleConfig=v.a.moduleConfigs.upcomingModule,this.scheduleModuleConfig=v.a.moduleConfigs.bookingModule,this.scanAccessModuleConfig=v.a.moduleConfigs.scanAccessModule,this.shopModuleConfig=v.a.moduleConfigs.shopModule,this.paymentModuleConfig=v.a.moduleConfigs.paymentModule,this.nfcModuleConfig=v.a.moduleConfigs.nfcModule,this.store.select(I.a.selectUserHasRoles,[C.a.ADMIN,C.a.SUPERVISOR]).pipe(Object(d.b)(this)).subscribe((function(t){n.showNfcInMenu=t&&!n.platform.is("ios")}))}},{key:"onPendingSaleClick",value:function(){var n=this;this.pendingSale$.pipe(Object(g.a)(1)).subscribe((function(t){t&&n.router.navigateByUrl("/sales/".concat(t.id,"/checkout"))}))}}]),t}(),T.\u0275fac=function(n){return new(n||T)(A.Kb(S.h),A.Kb(r.j),A.Kb(w.nb))},T.\u0275cmp=A.Eb({type:T,selectors:[["app-home"]],decls:14,vars:12,consts:[[3,"hidden"],["slot","bottom"],["tab","myhome",4,"ngIf"],["tab","schedule",4,"ngIf"],["tab","scan",4,"ngIf"],["tab","nfc",4,"ngIf"],["tab","shop",4,"ngIf"],["tab","profile"],["name","person-circle-outline"],[4,"ngIf"],["tab","myhome"],["name","home-outline"],["tab","schedule"],["name","calendar-outline"],["tab","scan"],["name","qr-code-outline"],["tab","nfc"],["name","card-outline"],["tab","shop"],["name","basket-outline"],["vertical","bottom","horizontal","end","slot","fixed","routerLink","/cart","style","margin-bottom: 4rem",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed","style","margin-bottom: 4rem",3,"click",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed","routerLink","/cart",2,"margin-bottom","4rem"],["color","primary"],["name","cart-outline"],["vertical","bottom","horizontal","end","slot","fixed",2,"margin-bottom","4rem",3,"click"],["name","logo-euro"]],template:function(n,t){1&n&&(A.Pb(0,"ion-tabs",0),A.ac(1,"async"),A.Pb(2,"ion-tab-bar",1),A.tc(3,j,5,3,"ion-tab-button",2),A.tc(4,L,5,3,"ion-tab-button",3),A.tc(5,x,5,3,"ion-tab-button",4),A.tc(6,E,5,3,"ion-tab-button",5),A.tc(7,R,5,3,"ion-tab-button",6),A.Pb(8,"ion-tab-button",7),A.Lb(9,"ion-icon",8),A.Pb(10,"ion-label"),A.vc(11),A.ac(12,"translate"),A.Ob(),A.Ob(),A.Ob(),A.Ob(),A.tc(13,H,6,8,"div",9)),2&n&&(A.hc("hidden",A.bc(1,8,t.isLoading$)),A.zb(3),A.hc("ngIf",t.upcomingModuleConfig&&t.upcomingModuleConfig.isActive),A.zb(1),A.hc("ngIf",t.scheduleModuleConfig&&t.scheduleModuleConfig.isActive),A.zb(1),A.hc("ngIf",null==t.scanAccessModuleConfig?null:t.scanAccessModuleConfig.isActive),A.zb(1),A.hc("ngIf",(null==t.nfcModuleConfig?null:t.nfcModuleConfig.isActive)&&t.showNfcInMenu),A.zb(1),A.hc("ngIf",null==t.shopModuleConfig?null:t.shopModuleConfig.isActive),A.zb(4),A.xc(" ",A.bc(12,10,"general.profile"),""),A.zb(2),A.hc("ngIf",null==t.paymentModuleConfig?null:t.paymentModuleConfig.isActive))},directives:[w.ab,w.Y,z.o,w.Z,w.y,w.G,w.t,w.pb,r.k,w.u],pipes:[z.b,N.c],styles:[""]}),T=Object(f.b)([Object(d.a)()],T)),children:[{path:"scan",canActivate:[u.a],loadChildren:function(){return c.e(16).then(c.bind(null,"C1Hr")).then((function(n){return n.ScanPageModule}))}},{path:"myhome",canActivate:[u.a,b.a],loadChildren:function(){return Promise.resolve().then(c.bind(null,"Td53")).then((function(n){return n.BookingModule}))}},{path:"profile",loadChildren:function(){return Promise.resolve().then(c.bind(null,"El0N")).then((function(n){return n.MemberModule}))}},{path:"schedule",canActivate:[u.a,b.a],loadChildren:function(){return c.e(17).then(c.bind(null,"RLmF")).then((function(n){return n.SchedulePageModule}))}},{path:"shop",canActivate:[u.a,s.a],loadChildren:function(){return Promise.resolve().then(c.bind(null,"QbNU")).then((function(n){return n.ShopModule}))}},{path:"nfc",canActivate:[u.a,b.a],loadChildren:function(){return Promise.resolve().then(c.bind(null,"Ruak")).then((function(n){return n.NfcModule}))}},{path:"",redirectTo:"/home/profile",pathMatch:"full"}]}],V=((K=i((function n(){e(this,n)}))).\u0275mod=A.Ib({type:K}),K.\u0275inj=A.Hb({factory:function(n){return new(n||K)},imports:[[r.m.forChild(Q)],r.m]}),K),Z=((J=i((function n(){e(this,n)}))).\u0275mod=A.Ib({type:J}),J.\u0275inj=A.Hb({factory:function(n){return new(n||J)},imports:[[a.a,V,l.TagModule]]}),J)}}])}();