(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"6hRX":function(o,t,n){"use strict";n.r(t),n.d(t,"LandingPageModule",(function(){return J}));var i=n("PCNd"),e=n("iInd"),c=n("mrSG"),r=n("itXk"),s=n("LRne"),a=n("IzEk"),l=n("pLZG"),b=n("lJxs"),g=n("tS1D"),d=n("JIr8"),u=n("sIb/"),p=n("C/rb"),h=n("777Z"),f=n("EMFo"),m=n("s7LF"),O=n("3bzS"),P=n("7bNT"),v=n("AytR"),w=n("XU5k"),x=n("E4px"),k=n("zEhZ"),z=n("8Y7J"),L=n("tqRt"),y=n("sZkV"),C=n("SVse"),I=n("TSSN");function S(o,t){1&o&&(z.Pb(0,"div",7),z.Lb(1,"ion-spinner",8),z.Ob())}function $(o,t){1&o&&(z.Pb(0,"ion-row"),z.Pb(1,"ion-col"),z.Pb(2,"div",3),z.Lb(3,"ion-spinner"),z.Ob(),z.Ob(),z.Ob())}function j(o,t){if(1&o){const o=z.Qb();z.Pb(0,"ion-button",15),z.Xb("click",(function(){z.oc(o);const n=t.$implicit;return z.Zb(2).onClickLoginWithOidcOption(n)})),z.vc(1),z.ac(2,"async"),z.ac(3,"async"),z.Ob()}if(2&o){const o=t.$implicit,n=z.Zb(2);z.zb(1),z.xc(" ","Surfconext"==o.name&&z.bc(2,1,n.surfconextLoginButtonText$)?z.bc(3,3,n.surfconextLoginButtonText$):o.name," ")}}function A(o,t){1&o&&(z.Pb(0,"ion-col",16),z.Pb(1,"h4"),z.vc(2),z.ac(3,"uppercase"),z.ac(4,"translate"),z.Ob(),z.Ob()),2&o&&(z.zb(2),z.wc(z.bc(3,1,z.bc(4,3,"general.or"))))}function _(o,t){if(1&o&&(z.Pb(0,"span"),z.vc(1),z.ac(2,"async"),z.Ob()),2&o){const o=z.Zb(3);z.zb(1),z.xc(" ",z.bc(2,1,o.emailLoginButtonText$)," ")}}function B(o,t){1&o&&(z.Pb(0,"span"),z.vc(1),z.ac(2,"translate"),z.Ob()),2&o&&(z.zb(1),z.xc(" ",z.bc(2,1,"general.loginWithEmail")," "))}function M(o,t){if(1&o){const o=z.Qb();z.Pb(0,"ion-button",15),z.Xb("click",(function(){return z.oc(o),z.Zb(2).onClickEmailAuth()})),z.tc(1,_,3,3,"span",6),z.ac(2,"async"),z.tc(3,B,3,3,"span",6),z.ac(4,"async"),z.Ob()}if(2&o){const o=z.Zb(2);z.zb(1),z.hc("ngIf",z.bc(2,2,o.emailLoginButtonText$)),z.zb(2),z.hc("ngIf",!z.bc(4,4,o.emailLoginButtonText$))}}function T(o,t){if(1&o){const o=z.Qb();z.Pb(0,"ion-row"),z.Pb(1,"ion-col"),z.Pb(2,"form",17),z.Xb("ngSubmit",(function(){return z.oc(o),z.Zb(2).onSubmitForm()})),z.Pb(3,"ion-list",18),z.Pb(4,"ion-item"),z.Pb(5,"ion-label",19),z.vc(6),z.ac(7,"translate"),z.Ob(),z.Lb(8,"ion-input",20),z.Ob(),z.Pb(9,"ion-item"),z.Pb(10,"ion-label",19),z.vc(11),z.ac(12,"translate"),z.Ob(),z.Lb(13,"ion-input",21),z.Ob(),z.Ob(),z.Pb(14,"h6",22),z.Pb(15,"span",23),z.vc(16),z.ac(17,"translate"),z.Ob(),z.Ob(),z.Pb(18,"ion-button",24),z.vc(19),z.ac(20,"translate"),z.Ob(),z.Ob(),z.Ob(),z.Ob()}if(2&o){const o=z.Zb(2);z.zb(2),z.hc("formGroup",o.form),z.zb(4),z.xc(" ",z.bc(7,6,"general.email")," "),z.zb(2),z.hc("debounce",300),z.zb(3),z.xc(" ",z.bc(12,8,"general.password")," "),z.zb(5),z.xc(" ",z.bc(17,10,"general.forgotPassword")," "),z.zb(3),z.xc(" ",z.bc(20,12,"general.login")," ")}}function Z(o,t){1&o&&(z.Pb(0,"ion-row",25),z.Pb(1,"ion-col",9),z.Pb(2,"h6"),z.vc(3),z.ac(4,"translate"),z.Pb(5,"span",26),z.vc(6),z.ac(7,"translate"),z.Ob(),z.Ob(),z.Ob(),z.Ob()),2&o&&(z.zb(3),z.xc(" ",z.bc(4,2,"general.notAMemberYet")," "),z.zb(3),z.xc(" ",z.bc(7,4,"general.register")," "))}function E(o,t){if(1&o&&(z.Pb(0,"div"),z.Pb(1,"ion-row"),z.Pb(2,"ion-col",9),z.tc(3,j,4,5,"ion-button",10),z.Ob(),z.tc(4,A,5,5,"ion-col",11),z.Pb(5,"ion-col",12),z.tc(6,M,5,6,"ion-button",13),z.Ob(),z.Ob(),z.tc(7,T,21,14,"ion-row",6),z.tc(8,Z,8,6,"ion-row",14),z.Ob()),2&o){const o=z.Zb();z.zb(3),z.hc("ngForOf",o.oidcProviderSettings),z.zb(1),z.hc("ngIf",null==o.oidcProviderSettings?null:o.oidcProviderSettings.length),z.zb(2),z.hc("ngIf",!o.emailAuthVisible),z.zb(1),z.hc("ngIf",o.emailAuthVisible),z.zb(1),z.hc("ngIf",o.registrationModuleConfig&&o.registrationModuleConfig.isActive)}}function F(o,t){if(1&o){const o=z.Qb();z.Pb(0,"ion-row"),z.Pb(1,"ion-col"),z.Pb(2,"ion-button",27),z.Xb("click",(function(){return z.oc(o),z.Zb().onClickCancel()})),z.vc(3),z.ac(4,"translate"),z.Ob(),z.Ob(),z.Ob()}2&o&&(z.zb(3),z.xc(" ",z.bc(4,1,"general.cancel")," "))}const K=[{path:"",component:(()=>{let o=class{constructor(o,t,n,i,e){this.formBuilder=o,this.store=t,this.auth=n,this.actions$=i,this.router=e,this.emailAuthVisible=!1}ngOnInit(){var o,t;this.registrationModuleConfig=v.a.moduleConfigs.registrationModule,this.oidcProviderSettings=v.a.oidcProviderSettings,(null===(o=this.oidcProviderSettings)||void 0===o?void 0:o.length)||(this.emailAuthVisible=!0),(null===(t=this.oidcProviderSettings)||void 0===t?void 0:t.length)>0&&(console.log("AppAuth initializing"),this.auth.init(),this.auth.events$.subscribe(o=>this.onSignInSuccess(o))),this.isConfigLoading$=this.store.select(w.b.selectIsLoading),this.selectedLanguage$=this.store.select(f.a.selectById,"language"),this.logoUrl=`assets/targets/${v.a.targetAssetFolderKey}/logo@256.png`,this.form=this.formBuilder.group({email:["",{validators:[Object(x.a)()],updateOn:"blur"}],password:["",m.r.required]}),this.form.get("email").valueChanges.pipe(Object(a.a)(1)).subscribe(o=>{this.form.setControl("email",new m.d(o,{validators:[m.r.required,Object(x.a)()],updateOn:"change"}))}),this.isLoading$=this.store.select(p.a.selectIsLoading),this.emailLoginButtonText$=Object(r.a)([this.store.select(w.b.selectByKey,"login_buttons_text"),this.selectedLanguage$]).pipe(Object(l.a)(o=>Boolean(o)),Object(b.a)(([o,t])=>(null==o?void 0:o.value)?JSON.parse(o.value)["email_login_button_text_"+t]:null)),this.surfconextLoginButtonText$=Object(r.a)([this.store.select(w.b.selectByKey,"login_buttons_text"),this.selectedLanguage$]).pipe(Object(l.a)(o=>Boolean(o)),Object(b.a)(([o,t])=>(null==o?void 0:o.value)?JSON.parse(o.value)["surfconext_button_text_"+t]:null))}onSubmitForm(){const o=this.form.value;if(!this.form.valid)return this.form.controls.email.touched||this.form.setControl("email",new m.d(o.email,{validators:[m.r.required,Object(x.a)()],updateOn:"change"})),this.form.controls.email.markAsTouched(),this.form.controls.password.markAsTouched(),!1;this.store.dispatch(u.a.login({email:o.email,password:o.password}))}onClickLoginWithOidcOption(o){if(console.log("Oidc config login selected",o),this.store.dispatch(h.a.loadProviderSettings({providerSettings:o})),o.name!==v.a.defaultOidcProvider)return console.log("Loading non default oidc config before redirection"),void this.actions$.pipe(Object(P.d)(h.a.loadProviderConfig),Object(a.a)(1),Object(g.a)(5e3),Object(d.a)(o=>Object(s.a)(null))).subscribe(o=>{console.log("Loading non default oidc config completed, will now redirect",o),setTimeout(()=>this.store.dispatch(h.a.startAuth()),10)});console.log("Default oidc config was selected, starting auth process"),setTimeout(()=>this.store.dispatch(h.a.startAuth()),10)}onSignInSuccess(o){o.action===k.a.Init&&console.log("AppAuth service has been initiated")}onClickCancel(){this.store.dispatch(u.a.logout())}onClickEmailAuth(){this.emailAuthVisible=!0}};return o.\u0275fac=function(t){return new(t||o)(z.Kb(m.c),z.Kb(L.h),z.Kb(k.b),z.Kb(P.a),z.Kb(e.j))},o.\u0275cmp=z.Eb({type:o,selectors:[["app-landing"]],decls:16,vars:17,consts:[[3,"fullscreen"],["class","ion-padding",4,"ngIf"],[3,"hidden"],[1,"ion-text-center"],[1,"ion-padding","ion-margin-bottom","ion-margin-top"],["alt","logo",2,"width","30%","border-radius","10px",3,"src"],[4,"ngIf"],[1,"ion-padding"],[1,"ion-margin-horizontal"],[1,"ion-margin-top"],["expand","block",3,"click",4,"ngFor","ngForOf"],["size","12","class","ion-text-center",4,"ngIf"],["size","12"],["expand","block",3,"click",4,"ngIf"],["class","register-link-wrapper",4,"ngIf"],["expand","block",3,"click"],["size","12",1,"ion-text-center"],[3,"formGroup","ngSubmit"],["lines","full",1,"ion-no-margin","ion-no-padding"],["position","floating","color","secondary"],["formControlName","email","type","email","placeholder","john@example.com",3,"debounce"],["formControlName","password","type","password"],[1,"forgot-password-link-wrapper"],["routerLink","/forgot-password",1,"forgot-password-link"],["expand","block","type","submit",1,"ion-margin-top"],[1,"register-link-wrapper"],["routerLink","/registration",1,"register-link"],["expand","block","type","submit","color","tertiary",1,"ion-margin-top",3,"click"]],template:function(o,t){1&o&&(z.Pb(0,"ion-content",0),z.tc(1,S,2,0,"div",1),z.ac(2,"async"),z.Pb(3,"ion-grid",2),z.ac(4,"async"),z.Pb(5,"ion-row"),z.Pb(6,"ion-col",3),z.Pb(7,"div",4),z.Pb(8,"div"),z.Lb(9,"img",5),z.Ob(),z.Ob(),z.Ob(),z.Ob(),z.tc(10,$,4,0,"ion-row",6),z.ac(11,"async"),z.tc(12,E,9,5,"div",6),z.ac(13,"async"),z.tc(14,F,5,3,"ion-row",6),z.ac(15,"async"),z.Ob(),z.Ob()),2&o&&(z.hc("fullscreen",!0),z.zb(1),z.hc("ngIf",z.bc(2,7,t.isConfigLoading$)),z.zb(2),z.hc("hidden",z.bc(4,9,t.isConfigLoading$)),z.zb(6),z.hc("src",t.logoUrl,z.qc),z.zb(1),z.hc("ngIf",z.bc(11,11,t.isLoading$)),z.zb(2),z.hc("ngIf",!z.bc(13,13,t.isLoading$)),z.zb(2),z.hc("ngIf",z.bc(15,15,t.isLoading$)))},directives:[y.r,C.o,y.w,y.P,y.q,y.X,C.n,y.h,m.s,m.n,m.g,y.H,y.D,y.G,y.C,y.rb,m.m,m.e,y.pb,e.k],pipes:[C.b,C.r,I.c],styles:[".register-link-wrapper[_ngcontent-%COMP%]{margin-left:8px}.register-link-wrapper[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-weight:700;border-bottom:2px solid var(--ion-color-primary)}.forgot-password-link-wrapper[_ngcontent-%COMP%]{margin-left:8px}.forgot-password-link-wrapper[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]{font-size:.875rem;color:var(--ion-color-medium);border-bottom:2px dotted var(--ion-color-medium)}"]}),o=Object(c.b)([Object(O.a)()],o),o})()}];let X=(()=>{class o{}return o.\u0275mod=z.Ib({type:o}),o.\u0275inj=z.Hb({factory:function(t){return new(t||o)},imports:[[e.m.forChild(K)],e.m]}),o})(),J=(()=>{class o{}return o.\u0275mod=z.Ib({type:o}),o.\u0275inj=z.Hb({factory:function(t){return new(t||o)},imports:[[i.a,X]]}),o})()}}]);