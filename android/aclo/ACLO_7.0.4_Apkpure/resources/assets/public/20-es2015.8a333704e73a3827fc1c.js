(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"+0Ue":function(s,o,n){"use strict";n.r(o),n.d(o,"ResetPasswordPageModule",(function(){return z}));var r=n("PCNd"),e=n("iInd"),t=n("s7LF"),i=n("Kj3r"),a=n("IzEk"),c=n("sIb/"),b=n("C/rb"),l=n("7+vQ"),d=n("iswq"),m=n("8Y7J"),u=n("tqRt"),p=n("sZkV"),f=n("SVse"),w=n("hLNb"),h=n("TSSN");function P(s,o){1&s&&(m.Pb(0,"ion-row"),m.Pb(1,"ion-col"),m.Pb(2,"div",3),m.Lb(3,"ion-spinner"),m.Ob(),m.Ob(),m.Ob())}function g(s,o){1&s&&(m.Pb(0,"ion-item",7),m.Pb(1,"ion-label",12),m.vc(2),m.ac(3,"translate"),m.ac(4,"translate"),m.Ob(),m.Ob()),2&s&&(m.hc("lines","none"),m.zb(2),m.yc(" ",m.bc(3,3,"general.password")," ",m.bc(4,5,"general.mustMatch")," "))}function O(s,o){if(1&s){const s=m.Qb();m.Pb(0,"ion-row"),m.Pb(1,"ion-col"),m.Pb(2,"form",4),m.Xb("ngSubmit",(function(){return m.oc(s),m.Zb().onFormSubmit()})),m.Pb(3,"ion-list"),m.Pb(4,"ion-item"),m.Pb(5,"ion-label",5),m.vc(6),m.ac(7,"translate"),m.Ob(),m.Lb(8,"ion-input",6),m.Ob(),m.Pb(9,"ion-item",7),m.Pb(10,"show-password-requirements",8),m.Xb("requirementsUpdated",(function(o){return m.oc(s),m.Zb().onPasswordRequirementsChange(o)})),m.Ob(),m.Ob(),m.Pb(11,"ion-item"),m.Pb(12,"ion-label",5),m.vc(13),m.ac(14,"translate"),m.ac(15,"translate"),m.Ob(),m.Lb(16,"ion-input",9),m.Ob(),m.tc(17,g,5,7,"ion-item",10),m.Ob(),m.Pb(18,"ion-button",11),m.vc(19),m.ac(20,"translate"),m.Ob(),m.Ob(),m.Ob(),m.Ob()}if(2&s){const s=m.Zb();m.zb(2),m.hc("formGroup",s.form),m.zb(4),m.xc(" ",m.bc(7,10,"general.password")," "),m.zb(3),m.hc("lines","none"),m.zb(1),m.hc("password",s.form.controls.password.value)("containsSpecialCharacter",!1),m.zb(3),m.yc(" ",m.bc(14,12,"general.confirm")," ",m.bc(15,14,"general.password")," "),m.zb(4),m.hc("ngIf",s.form.controls.confirmPassword.dirty&&s.form.controls.confirmPassword.invalid),m.zb(1),m.hc("disabled",!s.form.valid),m.zb(1),m.xc(" ",m.bc(20,16,"general.resetPassword")," ")}}const v=[{path:"",component:(()=>{class s{constructor(s,o){this.store=s,this.fb=o,this.confirmPasswordValidationMessage="",this.isPasswordValid=!1}ionViewWillEnter(){this.form=this.fb.group({password:["",[t.r.required]],confirmPassword:["",[t.r.required]]},{validator:Object(d.a)("password","confirmPassword")}),this.isLoading$=this.store.select(b.a.selectIsLoading);const s=this.form.get("confirmPassword");s.valueChanges.pipe(Object(i.a)(500)).subscribe(o=>this.setValidationMessage(s))}setValidationMessage(s){this.confirmPasswordValidationMessage="",s.errors&&s.errors.mustMatch&&(this.confirmPasswordValidationMessage="general.passwordDoNotMatch")}onPasswordRequirementsChange(s){this.isPasswordValid=s,this.form.controls.password.setErrors(this.isPasswordValid?null:{missingRequirements:!0})}onFormSubmit(){if(!this.form.valid)return;const s=this.form.value;s.password&&s.confirmPassword&&this.store.select(l.a.selectQueryParam("token")).pipe(Object(a.a)(1)).subscribe(o=>{this.store.dispatch(c.a.resetPassword({password:s.password,token:{accessToken:o,refreshToken:null,idToken:null,expiresIn:null,exp:null,scope:null,tokenType:null,issuedAt:null}}))})}}return s.\u0275fac=function(o){return new(o||s)(m.Kb(u.h),m.Kb(t.c))},s.\u0275cmp=m.Eb({type:s,selectors:[["reset-password"]],decls:10,vars:11,consts:[[3,"translucent"],[3,"fullscreen"],[4,"ngIf"],[1,"ion-text-center"],[3,"formGroup","ngSubmit"],["position","floating","color","secondary"],["formControlName","password","type","password"],[1,"ion-no-margin",3,"lines"],[1,"ion-margin-top",3,"password","containsSpecialCharacter","requirementsUpdated"],["formControlName","confirmPassword","type","password"],["class","ion-no-margin",3,"lines",4,"ngIf"],["expand","block","type","submit",1,"ion-margin-top","ion-margin-horizontal",3,"disabled"],["color","danger"]],template:function(s,o){1&s&&(m.Pb(0,"ion-header",0),m.Pb(1,"ion-toolbar"),m.Pb(2,"ion-title"),m.vc(3),m.ac(4,"translate"),m.Ob(),m.Ob(),m.Ob(),m.Pb(5,"ion-content",1),m.tc(6,P,4,0,"ion-row",2),m.ac(7,"async"),m.tc(8,O,21,18,"ion-row",2),m.ac(9,"async"),m.Ob()),2&s&&(m.hc("translucent",!0),m.zb(3),m.xc(" ",m.bc(4,5,"general.resetPassword")," "),m.zb(2),m.hc("fullscreen",!0),m.zb(1),m.hc("ngIf",!o.form||m.bc(7,7,o.isLoading$)),m.zb(2),m.hc("ngIf",o.form&&!m.bc(9,9,o.isLoading$)))},directives:[p.x,p.gb,p.eb,p.r,f.o,p.P,p.q,p.X,t.s,t.n,t.g,p.H,p.D,p.G,p.C,p.rb,t.m,t.e,w.a,p.h],pipes:[h.c,f.b],styles:[""]}),s})()}];let y=(()=>{class s{}return s.\u0275mod=m.Ib({type:s}),s.\u0275inj=m.Hb({factory:function(o){return new(o||s)},imports:[[e.m.forChild(v)],e.m]}),s})(),z=(()=>{class s{}return s.\u0275mod=m.Ib({type:s}),s.\u0275inj=m.Hb({factory:function(o){return new(o||s)},imports:[[r.a,y]]}),s})()}}]);